# AI 协作开发指南

> 本文档说明如何与 AI 助手配合，将开发规范落实到实际开发中。

---

## 一、核心原则

**AI 助手会自动遵循规范，你只需要：**

1. **告诉 AI 你要做什么功能**
2. **AI 会按规范生成文档和代码**
3. **你确认后执行**

---

## 二、开发协作流程

### 场景一：开发新功能

**你说**：
```
我要开发「视频转录」功能，请帮我按规范执行
```

**AI 会自动**：
1. 读取 `docs/specs/video-transcription/` 下的规范文档
2. 按照验收标准逐项实现
3. 更新任务清单进度

---

### 场景二：从零开始新功能

**你说**：
```
我要开发「用户登录」功能，请帮我创建规范文档
```

**AI 会自动**：
1. 在 `docs/specs/user-login/` 创建目录
2. 生成 requirements.md（需求文档）
3. 生成 design.md（设计文档）
4. 生成 tasklist.md（任务清单）
5. **等待你确认后开始编码**

---

### 场景三：继续未完成的功能

**你说**：
```
继续开发「视频转录」功能
```

**AI 会自动**：
1. 读取 tasklist.md 查看进度
2. 从下一个待办任务开始
3. 完成后更新任务状态

---

### 场景四：检查功能完成度

**你说**：
```
检查「视频转录」功能的完成情况
```

**AI 会自动**：
1. 对照 requirements.md 的验收标准
2. 检查代码实现
3. 生成完成度报告

---

## 三、标准对话模板

### 启动新功能

```
请帮我开发「{功能名称}」功能：

背景：{简单描述背景}
目标：{要实现什么}
参考：{可选，参考现有功能}
```

### 继续开发

```
继续「{功能名称}」的开发
```

### 检查进度

```
检查「{功能名称}」的完成情况
```

### 遇到问题

```
「{功能名称}」开发遇到问题：
{描述问题}

请帮我分析原因并提供解决方案
```

---

## 四、AI 自动执行的规范

当你发起开发请求后，AI 会自动：

| 阶段 | AI 行为 |
|------|---------|
| **需求分析** | 生成 WHEN-THEN-SHALL 格式的验收标准 |
| **技术设计** | 生成模块划分、API 设计、数据模型 |
| **任务拆分** | 生成可执行的任务清单 |
| **编码实现** | 按任务顺序编写代码 |
| **测试验证** | 对照验收标准检查 |
| **文档更新** | 更新任务状态和设计文档 |

---

## 五、你的角色

### 你需要做的

1. **明确需求**：告诉 AI 要做什么
2. **确认方案**：审核 AI 生成的文档
3. **验证结果**：测试功能是否正常

### 你不需要做的

- ❌ 手动编写规范文档
- ❌ 记住 WHEN-THEN-SHALL 格式
- ❌ 手动更新任务清单
- ❌ 担心遗漏验收标准

---

## 六、实际示例

### 示例 1：开发深色模式

**你**：
```
请帮我开发深色模式切换功能
```

**AI**：
```
我来帮你开发深色模式切换功能。

首先，我发现已有规范文档：
- docs/specs/dark-mode-toggle/requirements.md
- docs/specs/dark-mode-toggle/design.md
- docs/specs/dark-mode-toggle/tasklist.md

我将按照规范执行：

【第一阶段】创建 ThemeProvider
- 创建 src/providers/ThemeProvider.jsx
- 配置 next-themes

【第二阶段】创建 ThemeToggle 组件
- 创建 src/components/ThemeToggle.jsx
- 添加太阳/月亮图标

是否开始执行？
```

**你**：
```
开始
```

**AI**：
```
开始执行...

✅ 创建 ThemeProvider.jsx
✅ 创建 ThemeToggle.jsx
✅ 在 Header 中集成
✅ 添加 CSS 过渡动画

任务清单已更新，请测试功能。
```

---

### 示例 2：检查完成度

**你**：
```
检查热点监控功能的完成情况
```

**AI**：
```
检查热点监控功能完成情况...

【需求对照】
| 需求 | 状态 | 说明 |
|------|------|------|
| 数据源获取 | ✅ | NewsNowFetcher 已实现 |
| 调度系统 | ✅ | ScheduleService 已实现 |
| 前端页面 | ✅ | HotTopics.jsx 已实现 |
| AI 分析 | ✅ | AIAnalysisPanel.jsx 已实现 |

【完成度】100%

所有验收标准已满足，功能开发完成。
```

---

## 七、快速启动清单

开发新功能时，复制以下模板发送给 AI：

```
【功能开发请求】

功能名称：{xxx}
功能描述：{xxx}
优先级：高/中/低
参考功能：{可选}

请按规范生成文档并开始开发。
```

---

## 八、常见问题

### Q: AI 会自动遵循规范吗？

**A**: 是的。AI 已加载 `docs/dev/SPEC_STANDARDS.md`，会自动：
- 使用 WHEN-THEN-SHALL 格式
- 生成三文件结构
- 按任务清单执行

### Q: 我需要先读规范文档吗？

**A**: 不需要。AI 会自动处理，你只需要：
1. 描述需求
2. 确认方案
3. 验证结果

### Q: 如何确保 AI 没有遗漏？

**A**: 使用检查命令：
```
检查「{功能名称}」的完成情况
```
AI 会对照验收标准逐项检查。

### Q: 规范文档可以修改吗？

**A**: 可以。如果发现规范不合理，告诉 AI：
```
「{功能名称}」的设计需要调整：
{描述调整内容}

请更新设计文档并继续开发。
```

---

**记住**：你只需要告诉 AI **做什么**，AI 会负责 **怎么做**。
